BIN=./bin
LOGS=./logs

all: init CPU

# implementation with CPU code
CPU: cpuimpl.c naiveop trie opcfile logger
	gcc -g $(BIN)/logger.o $(BIN)/naiveOperations.o $(BIN)/trie.o $(BIN)/opcodeFile.o cpuimpl.c  -o $(BIN)/cpuimpl.o -lm

run:
	$(BIN)/cpuimpl.o ../data/opcodelist ../data/benign_2.csv ../data/malicia_2.csv

naiveop: naiveOperations.c
	gcc -g -c naiveOperations.c -o $(BIN)/naiveOperations.o -lm

trie: trie.c
	gcc -g -c trie.c -o $(BIN)/trie.o -lm

logger: logger.c logger.h
	gcc -g -c logger.c -o $(BIN)/logger.o

opcfile: opcodeFile.c
	gcc -g -c opcodeFile.c -o $(BIN)/opcodeFile.o -lm




init:
	mkdir -p $(BIN) $(LOGS)

clean:
	rm -rf $(BIN) $(LOGS)
